\begin{command}[@FWS/optim]{optim}	\desc{Purpose}Find the optimal realization, according to the \matlab{measureFun} measure, in the set of structured equivalent realizations	\desc{Syntax}\matlab{S = optim( S, options, measureFun, ...)}	\desc{Parameters}		\begin{tabular}{l@{\ :\ }p{9cm}}\matlab{S} &  FWS object                                                                                                                                \\\matlab{options} &  cells of pairs (string/value) to define the options of the optimization                                                             \\\matlab{} &    { \matlab{'param1'}, value1, \matlab{'param2'}, value2 }                                                                                                   \\\matlab{} &  - \matlab{method} : \matlab{'newton'} (default), \matlab{'simplex'} or \matlab{'ASA'}                                                                                        \\\matlab{} & 		\matlab{'newton'} refers to the Quasi-Newton algorithm used by fminunc and fmincon                                                                 \\\matlab{} & 		\matlab{'simplex'} refers to the simplex algorithm used by fminsearch                                                                              \\\matlab{} &  		and \matlab{'ASA'} refers to the Annealed Simulated Algorithm                                                                                     \\\matlab{} &  - \matlab{'l2scaling'} : \matlab{'no'} (default) ,\matlab{'yes'} or \matlab{'relaxed'}                                                                                         \\\matlab{} &  - \matlab{'useFWSmeasure'} : \matlab{'yes'} (default) or \matlab{'no'}                                                                                                \\\matlab{} &  - \matlab{'fixedParameter'} : a parameter to be fixed during optimization                                                                           \\\matlab{} &  - \matlab{'matFileName'} : filename of the mat-file created to store the result                                                                     \\\matlab{} & 		(default) : measureFun + funName + date                                                                                                   \\\matlab{} & 		[ ] : no mat-file is created                                                                                                              \\\matlab{} & 		if ASA method is used, the name is also used for the log-file                                                                             \\\matlab{} &  - \matlab{'MinMax'} : scalar that fix the maximum value for the                                                                                     \\ & parameters (min=-max)                                                                                                                        \\\matlab{} &  - \matlab{'Min'} and \matlab{'Max'} : used to fix individually the min and max values. The values of \matlab{'Min'} and \matlab{'Max'} may have the same size as the parameters\\\matlab{} &  - the other string/values are given to the fminsearch/ASA function                                                                         \\\matlab{measureFun} &  handle to the measure function                                                                                                   \\\matlab{...} &  the extra parameters are given to the measure function                                                                                  \\		\end{tabular}	\desc{Description}This method is the main method of the FWS class. It allows to search over the set of the structured realizations(defined with the FWS object), by running some optimization algorithms, like \matlab{fminsearch} or \matlab{ASA}.\\Some options could be passed to this function, in order to parametrize the optimization:\begin{itemize}\item the \matlab{method} option can take the following values\begin{itemize}\item \matlab{'newton'} (default): to use the Quasi-Newton algorithm (\matlab{fminunc} or \matlab{fmincon} functions)\item \matlab{'simplex'}: to use the simplex algorithm (\matlab{fminsearch})\item \matlab{'ASA'}: to use the Annealed Simulated Algorithm\footnote{In that case, \matlab{ASA} andits Matlab gateway \matlab{asamin} should be correctlyinstalled, and added in the Matlab's path)}\end{itemize}\item the \matlab{l2scaling} option indicates if a $L_2$-scaling should be applied. It can take the following values:\begin{itemize}\item \matlab{'no'} (default): no $L_2$-scaling constraints is applied\item \matlab{'yes'}: the classical $L_2$-scaling constraints are applied (see \funcName[@FWR/l2scaling]{l2scaling})\item \matlab{'relaxed'}: the relaxed-$L_2$-scaling constraints are applied (see \funcName[@FWR/relaxedl2scaling]{relaxedl2scaling})\end{itemize}\item the \matlab{useFWSmeasure} option (\matlab{'yes'} (default) or \matlab{'no'}) forces the use of the $\mt{UYW}$-function\item the \matlab{fixedParameter} allows to fix some parameters during the optimization. The value associated should be the name of the parameters. Several parameters coudld be fixed.\item the \matlab{matFileName} sets the filename of the .mat file that is created at the end of the optimization processto store the final optimized result. By default, this filename is defined by the name of the measure function plus thename of the structuration (given by the name of the UYWfun or the Rfun) plus the date. If the filename is empty, no.mat file is storned.\\ In case of ASA method, this name is also used for the log-file created by asamin.\item the \matlab{MinMax} allows to set the minimum andmaximum values for the parameters. Here only a scalar is required (the maximum value is set to this scalar, the minimum values to the opposite).In order to set individually the min and max values, uses \matlab{Min} and \matlab{Max} options, where you have to pass a vector this the same size as the parameters.\item the extra options are given to the optimization algorihtm (\matlab{fminunc}, \matlab{fmincon}, \matlab{fminsearch},\matlab{ASA}. See Matlab's\matlab{optimset} or \matlab{asamin} documentation). Classical option (for quasi-Newton and convexalgorithm) is \matlab{\{'Display','Iter'\}}\end{itemize}	\desc{Example}\begin{verbatim}>>S = SS2FWS(A,B,C,D);>>options = {'method','newton','Display','Iter', 'l2scaling','yes');>>Sopt = optim( S, options, @MsensH_cl, Plant);\end{verbatim}The \matlab{Plant} value is given to the function \matlab{MsensH\_cl} as a supplementary parameter. The pair of options\matlab{'Display','Iter'} is passed to the newton algorithm (\matlab{fminunc} here), so as the iterations are displayed.\\So, these commands define a state-space structuration, and search for the optimal $L_2$-scaled realization according to theclosed-loop input-output sensitivity (with \matlab{Plant} as a plant to be controlled, see section \ref{sec:closed_loop}).\\\matlab{Sopt} contains now the structuration \matlab{S} with the optimal realization in \matlab{R} and the optimal parameterin \matlab{T}.\end{command}