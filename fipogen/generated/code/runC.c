/* this file is automatically generated by FiPoGen v0.4
   from the Realization Realization `State-Space (form:balanced)` for filter `RandomFilter-7/4/1-787559087`
   date: 2016/12/01 - 10:38:27 */

#include<stdio.h>

/* this function is automatically generated by FiPoGen v0.4
   from the Realization Realization `State-Space (form:balanced)` for filter `RandomFilter-7/4/1-787559087`
State Space (7 states, 4 outputs and 1 inputs)
		A= matrix([[ 0.1792495 ,  0.49915134,  0.34815952, -0.18025162,  0.28637261,
          0.29277047, -0.63871043],
        [-0.43742715, -0.75265949, -0.22146997,  0.11773021, -0.18867706,
         -0.11347867,  0.13222891],
        [-0.00053318, -0.72943934, -1.25469431,  0.73434379, -0.05644267,
          0.5847917 ,  0.11795255],
        [-0.08751961, -0.85909241, -1.25745411,  0.53110858, -0.23287898,
          0.62387127,  1.28576486],
        [ 0.32752074,  0.77279034,  0.52706672, -0.36548718,  0.00298196,
          0.04098118, -0.63192241],
        [ 0.2868519 ,  0.25099343, -0.08985978,  0.02526511,  0.05458737,
         -0.20384402,  0.01752463],
        [-0.86076237, -0.23527051,  0.43376206, -0.17506038, -0.05187063,
         -1.02418589, -0.2107247 ]])
		B= matrix([[ 1.01092926],
        [ 0.25140825],
        [-0.69117359],
        [ 0.53936335],
        [ 1.02253938],
        [-0.        ],
        [-1.58810848]])
		C= matrix([[ 0.90313475,  0.57445604,  0.18854989,  0.76050168, -0.02835142,
         -0.33780931,  0.30456708],
        [-0.        , -0.27219858,  0.30653417,  2.53336412,  0.06833944,
         -0.45691834,  1.07324574],
        [-0.66724477,  0.40669915, -0.88747244,  0.38901224, -1.25270193,
          0.29163075,  1.74527199],
        [ 1.08259978,  0.35664015, -0.41803166, -1.35814502,  1.28895102,
          0.12292862, -0.31030567]])
		D= matrix([[-0.05729233],
        [-0.        ],
        [-0.82047263],
        [ 0.1853703 ]])
		
   date: 2016/12/01 - 10:38:27 */
void implementCdouble(double* y, double u, double* xk)
{
	double x0_kp1, x1_kp1, x2_kp1, x3_kp1, x4_kp1, x5_kp1, x6_kp1;


	// intermediate variable(s)


	//output(s)
	y[0] = xk[0]*-0x1.243e5bdaa8d66p-2 + xk[1]*-0x1.ef58e1659daa6p-3 +
xk[2]*-0x1.c9f457b5bae05p-3 + xk[3]*0x1.703bd5a2a697cp-1 +
xk[4]*0x1.1b8d2d76b27d9p-2 + xk[5]*-0x1.2023e35d6d507p-3 +
xk[6]*-0x1.4843d56605893p-5 + u*-0x1.d556b9e3b56f2p-5;
	y[1] = xk[0]*-0x1.dbbfa4b43deddp-1 + xk[1]*-0x1.c5f9ec9d8de6ap-1 +
xk[2]*-0x1.a245651c743c0p+0 + xk[3]*0x1.88f1036c79cffp+0 +
xk[4]*-0x1.02031cd3830e8p-3 + xk[5]*-0x1.946938b550656p-4 +
xk[6]*0x1.2ff3774723bccp-5;
	y[2] = xk[0]*-0x1.589140f49da3dp-3 + xk[1]*0x1.6453c49dcf7b9p-2 +
xk[2]*-0x1.950a76caf4085p+0 + xk[3]*0x1.79c630cf822f2p-2 +
xk[4]*0x1.a72cdae44b8a7p-2 + xk[5]*0x1.91202930cb5f3p-3 +
xk[6]*-0x1.c88d7e7573f84p-8 + u*-0x1.a414fd0c65a29p-1;
	y[3] = xk[0]*0x1.0b24b825263ebp+0 + xk[1]*0x1.9b30361ff7974p-1 +
xk[2]*0x1.c3b5b6367979ep+0 + xk[3]*-0x1.9c284e68e9ac0p-1 +
xk[4]*0x1.9108fa8666e00p-3 + xk[5]*-0x1.3826754c7f285p-3 +
xk[6]*0x1.52a93427d4c80p-6 + u*0x1.7ba36bffd4534p-3;


	//states
	x0_kp1 = xk[0]*-0x1.513f7c1f94cf4p-1 + xk[1]*0x1.277ca85a576ffp-1 +
xk[2]*0x1.b701bb230ce7bp-2 + xk[3]*0x1.96b4872b2df3ap-5 +
xk[4]*0x1.56be763aa1cb0p-11 + xk[5]*0x1.813962871f17ep-9 +
xk[6]*0x1.f69cfdf38d220p-12 + u*0x1.bb7e0e6f84ff2p+0;
	x1_kp1 = xk[0]*-0x1.6b38222e13535p-1 + xk[1]*-0x1.3a64f54b2a493p-1 +
xk[2]*-0x1.a8eb1b5b3af08p-4 + xk[3]*-0x1.b11ecf29504c0p-4 +
xk[4]*0x1.99716b0387800p-8 + xk[5]*-0x1.39775a10abbc0p-9 +
xk[6]*-0x1.200575f569280p-11 + u*-0x1.0364b9c85e1a4p+1;
	x2_kp1 = xk[0]*0x1.656a9da15f480p-3 + xk[1]*-0x1.00e2037a16998p-1 +
xk[2]*0x1.89db1acdcaf9dp-1 + xk[3]*0x1.92747fe4e67e9p-4 +
xk[4]*0x1.04136608dd960p-7 + xk[5]*0x1.4348fe9b83d21p-7 +
xk[6]*0x1.c8594c2bb0c60p-12 + u*0x1.183c2c077283cp+1;
	x3_kp1 = xk[0]*-0x1.56491e6ba391ep-5 + xk[1]*-0x1.03ed6f2450c55p-4 +
xk[2]*-0x1.40a2b4e62a16fp-3 + xk[3]*-0x1.0f4d5313ea179p-3 +
xk[4]*0x1.9284d18ad3f30p-4 + xk[5]*-0x1.9d8732bb25bc8p-9 +
xk[6]*0x1.d238560da5f5ap-6 + u*0x1.d8ab9896d37e8p+0;
	x4_kp1 = xk[0]*0x1.aa1c6dbf34a28p-9 + xk[1]*0x1.b7c7af24c83e8p-9 +
xk[2]*0x1.19b5f008edf15p-7 + xk[3]*-0x1.1af980c4563dep-2 +
xk[4]*-0x1.d335d3ddd3726p-2 + xk[5]*0x1.3927b20c06cb4p-5 +
xk[6]*-0x1.887b63abf3336p-6 + u*-0x1.6cf5532fe2480p-5;
	x5_kp1 = xk[0]*0x1.05f2ee55bb380p-10 + xk[1]*0x1.2db43fda55be0p-10 +
xk[2]*0x1.6e1dbff59d7f0p-9 + xk[3]*-0x1.09dc86b443d44p-4 +
xk[4]*0x1.9cf72fc9594cbp-2 + xk[5]*-0x1.8aeed821545fap-2 +
xk[6]*-0x1.50326b2cf809cp-4 + u*-0x1.434996d9e2180p-6;
	x6_kp1 = xk[0]*0x1.a3867c3501e40p-14 + xk[1]*0x1.f224ca8105000p-14 +
xk[2]*0x1.2142231284420p-12 + xk[3]*-0x1.a9469d59ce381p-8 +
xk[4]*0x1.7c9765fcbefd0p-5 + xk[5]*0x1.00bad4b8f653cp-2 +
xk[6]*-0x1.d8714396a2adap-3 + u*-0x1.0c16280fa7000p-9;


	//permutations
	xk[0] = x0_kp1;
	xk[1] = x1_kp1;
	xk[2] = x2_kp1;
	xk[3] = x3_kp1;
	xk[4] = x4_kp1;
	xk[5] = x5_kp1;
	xk[6] = x6_kp1;



}


/* call implementCdouble for each time step */
void runCdouble( double* u, double* y, int N)
{
	double xk[7]={0};
	for( int i=0; i<N; i++)
	{
		implementCdouble(y, *u, xk);
		u += 1;
		y += 4;
	}
	printf("\n\nState-Space (form:balanced)!!\n\n\n");
}